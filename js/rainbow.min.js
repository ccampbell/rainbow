/*
 @version 1.1.8
 @url rainbowco.de
*/
function h(a){var b,e=a.getAttribute&&a.getAttribute("data-language")||0;if(!e){a=a.attributes;for(b=0;b<a.length;++b)if("data-language"===a[b].nodeName)return a[b].nodeValue}return e}function l(a,b){return'<span class="'+a.replace(/\./g," ")+(m?" "+m:"")+'">'+b+"</span>"}
function n(a,b,e,c){var d=a.exec(e);if(d){++o;!b.name&&"string"==typeof b.matches[0]&&(b.name=b.matches[0],delete b.matches[0]);var i=d[0],f=d.index,j=d[0].length+f,k=function(){function d(){n(a,b,e,c)}o%100>0?d():p(d,0)},g;a:{for(g in q[t]){g=parseInt(g,10);if(f==g&&j==q[t][g]?0:f<=g&&j>=q[t][g])delete q[t][g],delete u[t][g];if(f>=g&&f<q[t][g]||j>g&&j<q[t][g]){g=!0;break a}}g=!1}if(g)k();else{g=v(b.matches);var r=function(a,g,e){if(a>=g.length)e(i);else{var c=d[g[a]];if(c){var f=b.matches[g[a]],
j=f.language,k=f.name&&f.matches?f.matches:f,s=function(b,c,f){var j=0,k;for(k=1;k<g[a];++k)d[k]&&(j=j+d[k].length);c=f?l(f,c):c;i=i.substr(0,j)+i.substr(j).replace(b,c);r(++a,g,e)};j?w(c,j,function(a){s(c,a)}):typeof f==="string"?s(c,c,f):x(c,k.length?k:[k],function(a){s(c,a,f.matches?f.name:0)})}else r(++a,g,e)}};r(0,g,function(a){b.name&&(a=l(b.name,a));if(!u[t]){u[t]={};q[t]={}}u[t][f]={replace:d[0],"with":a};q[t][f]=j;k()})}}else c()}
function v(a){var b=[],e;for(e in a)a.hasOwnProperty(e)&&b.push(e);return b.sort(function(a,b){return b-a})}function x(a,b,e){function c(b,i){if(i<b.length)n(b[i].pattern,b[i],a,function(){c(b,++i)});else{var f=a,j=function(a,b,c,e){if(c<b.length){++y;var d=b[c],f=u[t][d],a=a.substr(0,d)+a.substr(d).replace(f.replace,f["with"]),d=function(){return j(a,b,++c,e)};return 0<y%250?d():p(d,0)}e(a)},k=v(u[t]);j(f,k,0,function(b){delete u[t];delete q[t];--t;a=b;e(b)})}}++t;c(b,0);return a}
function w(a,b,e){var c=z[b]||[],d=z[A]||[],b=B[b]?c:c.concat(d);return x(a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;"),b,e||function(){})}
function C(a,b,e){if(b<a.length){var c=a[b],d,i=h(c)||h(c.parentNode);if(!i){var f=/\blang(?:uage)?-(\w+)/;(f=c.className.match(f)||c.parentNode.className.match(f))&&(i=f[1])}d=i;return!(-1<(" "+c.className+" ").indexOf(" rainbow "))&&d?(d=d.toLowerCase(),c.className+=c.className?" rainbow":"rainbow",w(c.innerHTML,d,function(f){c.innerHTML=f;u={};q={};D&&D(c,d);return p(function(){return C(a,++b,e)},0)})):C(a,++b,e)}e&&e()}
function E(a,b){var a=a&&"function"==typeof a.getElementsByTagName?a:document,e=a.getElementsByTagName("pre"),c=a.getElementsByTagName("code"),d,i=[];for(d=0;d<c.length;++d)i.push(c[d]);for(d=0;d<e.length;++d)e[d].getElementsByTagName("code").length||i.push(e[d]);C(i,0,b)}
var u={},q={},z={},B={},t=0,A=0,o=0,y=0,m,D,F={extend:function(a,b,e){1==arguments.length&&(b=a,a=A);B[a]=e;z[a]=b.concat(z[a]||[])},c:function(a){D=a},a:function(a){m=a},color:function(a,b,e){if("string"==typeof a)return w(a,b,e);if("function"==typeof a)return E(0,a);E(a,b)}};isNode="object"===typeof module&&module.b;isAMD="function"===typeof define;var p=isNode?function(a){return a()}:this.setTimeout;
isNode?module.b=F:isAMD?define(F):(this.Rainbow=F,this.Rainbow.onHighlight=F.c,this.Rainbow.addClass=F.a);this.addEventListener?this.addEventListener("load",F.color,!1):this.attachEvent&&this.attachEvent("onload",F.color);
